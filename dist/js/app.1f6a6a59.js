(function(e){function t(t){for(var a,s,l=t[0],o=t[1],c=t[2],d=0,m=[];d<l.length;d++)s=l[d],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&m.push(r[s][0]),r[s]=0;for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(e[a]=o[a]);u&&u(t);while(m.length)m.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],a=!0,l=1;l<n.length;l++){var o=n[l];0!==r[o]&&(a=!1)}a&&(i.splice(t--,1),e=s(s.s=n[0]))}return e}var a={},r={app:0},i=[];function s(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=a,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(n,a,function(t){return e[t]}.bind(null,a));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],o=l.push.bind(l);l.push=t,l=l.slice();for(var c=0;c<l.length;c++)t(l[c]);var u=o;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"024c":function(e,t,n){"use strict";var a=n("e01b"),r=n.n(a);r.a},"034f":function(e,t,n){"use strict";var a=n("64a9"),r=n.n(a);r.a},1:function(e,t){},"13a77":function(e,t,n){"use strict";var a=n("e359"),r=n.n(a);r.a},1872:function(e,t,n){"use strict";var a=n("b63c"),r=n.n(a);r.a},2:function(e,t){},"3b6b":function(e,t,n){"use strict";var a=n("d1cd"),r=n.n(a);r.a},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var a=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("Bar"),n("SideBar"),n("div",{staticClass:"container"},[n("Builder",{staticClass:"content"})],1),n("CodeDialogue"),n("ListDialogue")],1)},i=[],s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("nav",{staticClass:"navbar navbar-default navbar-fixed-top"},[n("div",{staticClass:"container"},[e._m(0),n("div",{staticClass:"collapse navbar-collapse"},[n("ul",{staticClass:"nav navbar-nav"},[n("li",{class:{active:"project"==e.bus.tab}},[n("a",{attrs:{href:"javascript:void(0);"},on:{click:function(t){return e.bus.showTab("project")}}},[e._v("Project")])]),n("li",{class:{active:"file"==e.bus.tab}},[n("a",{attrs:{href:"javascript:void(0);"},on:{click:function(t){return e.bus.showTab("file")}}},[e._v("File")])]),n("li",{class:{active:"diagram"==e.bus.tab}},[n("a",{attrs:{href:"javascript:void(0);"},on:{click:function(t){return e.bus.showTab("diagram")}}},[e._v("Diagram")])]),n("li",{class:{active:"Migration"==e.bus.tab}},[n("a",{attrs:{href:"javascript:void(0);"},on:{click:function(t){return e.bus.showTab("Migration")}}},[e._v("Table")])]),n("li",{class:{active:"Model"==e.bus.tab}},[n("a",{attrs:{href:"javascript:void(0);"},on:{click:function(t){return e.bus.showTab("Model")}}},[e._v("Model")])]),n("li",{class:{active:"Request"==e.bus.tab}},[n("a",{attrs:{href:"javascript:void(0);"},on:{click:function(t){return e.bus.showTab("Request")}}},[e._v("Request")])]),n("li",{class:{active:"Factory"==e.bus.tab}},[n("a",{attrs:{href:"javascript:void(0);"},on:{click:function(t){return e.bus.showTab("Factory")}}},[e._v("Factory")])]),e.bus.project?n("li",{staticClass:"dropdown",class:{active:"more"==e.bus.tab}},[n("a",{attrs:{href:"javascript:void(0);"},on:{click:function(t){return e.bus.showTab("more")}}},[e._v("More")])]):e._e()]),e._m(1)])])]),n("div",{staticStyle:{"margin-top":"55px"}})])},l=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"navbar-header"},[n("span",{staticClass:"navbar-toggle collapsed",attrs:{"data-toggle":"collapse","data-target":"#navbar","aria-expanded":"false","aria-controls":"navbar"}},[n("span",{staticClass:"sr-only"},[e._v("Toggle")]),n("span",{staticClass:"icon-bar"})]),n("span",{staticClass:"navbar-brand"},[e._v("Entity")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ul",{staticClass:"nav navbar-nav navbar-right"},[n("li",[n("a",{attrs:{href:"https://github.com/GooGee/Entity-Builder"}},[e._v("GitHub")])])])}],o=(n("7f7f"),new a["a"]({data:{tab:"project",php:!1,project:null,entity:null,file:null,type:""},methods:{show:function(e){this.$set(this,"entity",e),this.$emit("EntityChanged"),"project"===this.tab&&this.$set(this,"tab","Migration");var t=this.entity.FileManager.findByType(this.tab);this.setFile(t)},showTab:function(e){if(null!=this.entity){var t=this.entity.FileManager.findByType(e);this.setFile(t),this.$set(this,"tab",e),this.$emit("TabChanged")}else this.setFile(null)},showFile:function(e){this.$set(this,"type",e.name)},setFile:function(e){e?this.$set(this,"file",e):this.$set(this,"file",null)}}})),c=o,u={name:"Bar",data:function(){return{bus:c}}},d=u,m=n("2877"),f=Object(m["a"])(d,s,l,!1,null,null,null),p=f.exports,v=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.bus.project?n("ul",{staticClass:"side-bar"},[n("li",[n("h2",[e._v(e._s(e.bus.project.name))])]),n("li",[n("span",{staticClass:"btn btn-primary plus",on:{click:e.add}},[e._v(" + ")]),n("br"),n("br")]),"file"==e.bus.tab?e._l(e.bus.project.FileTypeManager.list,(function(t){return n("li",{key:t.name},[n("div",{class:{active:e.bus.type==t.name},on:{click:function(n){return e.bus.showFile(t)}}},[e._v(e._s(t.name))])])})):e._l(e.bus.project.EntityManager.list,(function(t){return n("li",{key:t.name},[n("div",{class:{active:e.bus.entity==t},on:{click:function(n){return e.bus.show(t)}}},[e._v(e._s(t.name))])])}))],2):e._e()},h=[],b=n("7618"),_=n("553e"),g=n.n(_);function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n="info";t>=400?n="error":t>=300?n="warning":t>=200?n="success":t>=100&&(n="question");var a=e;return"object"===Object(b["a"])(e)&&(a=e.message?e.message:JSON.stringify(e)),g.a.fire(a,void 0,n)}function $(e){return g.a.fire({title:e,type:"question",showConfirmButton:!0,showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No"})}function C(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return g.a.fire({title:e,input:"text",inputValue:t,showCancelButton:!0})}var w={name:"SideBar",data:function(){return{bus:c}},methods:{add:function(){C("Please enter the name").then((function(e){if(e.value)try{if("file"===c.tab){var t=c.project.FileTypeManager.make(e.value);c.project.FileTypeManager.add(t)}else{var n=c.project.EntityManager.make(e.value);c.project.EntityManager.add(n)}}catch(a){y(a,400)}}))}}},k=w,F=(n("1872"),Object(m["a"])(k,v,h,!1,null,null,null)),x=F.exports,j=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",["project"==e.bus.tab?n("div",{staticClass:"title"},[n("h1",[e._v("Project")]),n("span",{staticClass:"btn-group"},[n("span",{staticClass:"btn btn-primary",on:{click:e.make}},[e._v("New")]),n("label",{staticClass:"btn btn-info"},[e._v("\n                Load\n                "),n("input",{staticStyle:{display:"none"},attrs:{type:"file",accept:".json"},on:{change:function(t){return e.load(t)}}})]),n("span",{staticClass:"btn btn-success",attrs:{disabled:null==e.bus.project},on:{click:e.download}},[e._v("Download")]),e.bus.php?n("span",{staticClass:"btn btn-success",attrs:{disabled:null==e.bus.project},on:{click:e.save}},[e._v("Save")]):n("span",{staticClass:"btn btn-success",on:{click:e.connect}},[e._v("Connect")])]),e.bus.project?n("span",[e._v(e._s(e.bus.project.fileName))]):e._e()]):e._e(),e.bus.project?n("Project"):e._e()],1)},N=[],T=n("cfc8"),M=T["a"];function S(e){var t=e.EntityManager.make("user");return e.EntityManager.add(t),t}function D(e){var t=new T["a"].Project(e.name);return t.load(e),t}function E(e){var t=new T["a"].Project(e);return t}function P(e,t){var n=new FileReader;n.onload=function(e){t(e.target.result)},n.onerror=function(e){alert(e)},n.readAsText(e)}n("ac6a"),n("28a5");var q=n("2427"),A=n.n(q),R=n("3eb5"),O=n.n(R),I='<?php\r\n\r\nnamespace {{ project.NameSpace }}\\{{ file.FileType.NameSpace }};\r\n\r\nuse {{ project.NameSpace }}\\{{ request.FileType.NameSpace }}\\{{ request.name }};\r\nuse {{ project.NameSpace }}\\{{ model.FileType.NameSpace }}\\{{ model.name }};\r\n\r\nclass {{ file.name }} extends Controller\r\n{\r\n    protected $routePath = \'{{ entity.snakeCase }}\';\r\n    protected $viewPath = \'{{ entity.snakeCase }}\';\r\n\r\n    /**\r\n     * Display a listing of the resource.\r\n     *\r\n     * @return \\Illuminate\\Http\\Response\r\n     */\r\n    public function index()\r\n    {\r\n        $page = {{ model.name }}::query()->paginate();\r\n        return view("$this->viewPath.index", compact(\'page\'));\r\n    }\r\n\r\n    /**\r\n     * Show the form for creating a new resource.\r\n     *\r\n     * @return \\Illuminate\\Http\\Response\r\n     */\r\n    public function create()\r\n    {\r\n        $item = new {{ model.name }};\r\n        $item->_token = csrf_token();\r\n        $item->_uri = "/$this->routePath";\r\n        return view("$this->viewPath.form", compact(\'item\'));\r\n    }\r\n\r\n    /**\r\n     * Store a newly created resource in storage.\r\n     *\r\n     * @param  \\{{ project.NameSpace }}\\{{ request.FileType.NameSpace }}\\{{ request.name }}  $request\r\n     * @return \\Illuminate\\Http\\Response\r\n     */\r\n    public function store({{ request.name }} $request)\r\n    {\r\n        $item = new {{ model.name }};\r\n        $item->fill($request->validated());\r\n        $item->save();\r\n        return redirect("/$this->routePath/$item->id");\r\n    }\r\n\r\n    /**\r\n     * Display the specified resource.\r\n     *\r\n     * @param  int  $id\r\n     * @return \\Illuminate\\Http\\Response\r\n     */\r\n    public function show($id)\r\n    {\r\n        $item = {{ model.name }}::query()->findOrFail($id);\r\n        return view("$this->viewPath.show", compact(\'item\'));\r\n    }\r\n\r\n    /**\r\n     * Show the form for editing the specified resource.\r\n     *\r\n     * @param  int  $id\r\n     * @return \\Illuminate\\Http\\Response\r\n     */\r\n    public function edit($id)\r\n    {\r\n        $item = {{ model.name }}::query()->findOrFail($id);\r\n        $item->_token = csrf_token();\r\n        $item->_method = \'PATCH\';\r\n        $item->_uri = "/$this->routePath/$item->id";\r\n        return view("$this->viewPath.form", compact(\'item\'));\r\n    }\r\n\r\n    /**\r\n     * Update the specified resource in storage.\r\n     *\r\n     * @param  \\{{ project.NameSpace }}\\{{ request.FileType.NameSpace }}\\{{ request.name }}  $request\r\n     * @param  int  $id\r\n     * @return \\Illuminate\\Http\\Response\r\n     */\r\n    public function update({{ request.name }} $request, $id)\r\n    {\r\n        $item = {{ model.name }}::query()->findOrFail($id);\r\n        $item->update($request->validated());\r\n        return redirect("/$this->routePath/$item->id");\r\n    }\r\n\r\n    /**\r\n     * Remove the specified resource from storage.\r\n     *\r\n     * @param  int  $id\r\n     * @return \\Illuminate\\Http\\Response\r\n     */\r\n    public function destroy($id)\r\n    {\r\n        {{ model.name }}::destroy($id);\r\n        return redirect("/$this->routePath");\r\n    }\r\n}\r\n',L="<?php\r\n\r\nnamespace {{ project.NameSpace }}\\{{ file.FileType.NameSpace }};\r\n\r\nuse {{ project.NameSpace }}\\{{ request.FileType.NameSpace }}\\{{ request.name }};\r\nuse {{ project.NameSpace }}\\{{ model.FileType.NameSpace }}\\{{ model.name }};\r\nuse {{ project.NameSpace }}\\Http\\Controllers\\Controller;\r\n\r\nclass {{ file.name }} extends Controller\r\n{\r\n\r\n    /**\r\n     * Display a listing of the resource.\r\n     *\r\n     * @return \\Illuminate\\Http\\Response\r\n     */\r\n    public function index()\r\n    {\r\n        $page = {{ model.name }}::query()->paginate();\r\n        return response()->json(compact('page'));\r\n    }\r\n\r\n    /**\r\n     * Store a newly created resource in storage.\r\n     *\r\n     * @param  \\{{ project.NameSpace }}\\{{ request.FileType.NameSpace }}\\{{ request.name }}  $request\r\n     * @return \\Illuminate\\Http\\Response\r\n     */\r\n    public function store({{ request.name }} $request)\r\n    {\r\n        $item = new {{ model.name }};\r\n        $item->fill($request->validated());\r\n        $item->save();\r\n        return response()->json(compact('item'));\r\n    }\r\n\r\n    /**\r\n     * Display the specified resource.\r\n     *\r\n     * @param  int  $id\r\n     * @return \\Illuminate\\Http\\Response\r\n     */\r\n    public function show($id)\r\n    {\r\n        $item = {{ model.name }}::query()->findOrFail($id);\r\n        return response()->json(compact('item'));\r\n    }\r\n\r\n    /**\r\n     * Update the specified resource in storage.\r\n     *\r\n     * @param  \\{{ project.NameSpace }}\\{{ request.FileType.NameSpace }}\\{{ request.name }}  $request\r\n     * @param  int  $id\r\n     * @return \\Illuminate\\Http\\Response\r\n     */\r\n    public function update({{ request.name }} $request, $id)\r\n    {\r\n        $item = {{ model.name }}::query()->findOrFail($id);\r\n        $item->update($request->validated());\r\n        return response()->json(compact('item'));\r\n    }\r\n\r\n    /**\r\n     * Remove the specified resource from storage.\r\n     *\r\n     * @param  int  $id\r\n     * @return \\Illuminate\\Http\\Response\r\n     */\r\n    public function destroy($id)\r\n    {\r\n        $count = {{ model.name }}::destroy($id);\r\n        if ($count) {\r\n            return response()->json('OK');\r\n        }\r\n        return response()->json('Resource already deleted!', 410);\r\n    }\r\n}\r\n",B="<?php\r\n\r\n/** @var \\Illuminate\\Database\\Eloquent\\Factory $factory */\r\n\r\nuse {{ project.NameSpace }}\\{{ model.FileType.NameSpace }}\\{{ model.name }};\r\nuse Faker\\Generator as Faker;\r\n\r\n$factory->define({{ model.name }}::class, function (Faker $faker) {\r\n    static $index = 0;\r\n    $index += 1;\r\n    return [\r\n{% for field in entity.FieldManager.list %}{% if field.seed.text %}\r\n        '{{ field.name }}' => {{ field.seed.text }},\r\n{% endif %}{% endfor %}\r\n    ];\r\n});\r\n",K="<?php\r\n\r\nuse Illuminate\\Support\\Facades\\Schema;\r\nuse Illuminate\\Database\\Schema\\Blueprint;\r\nuse Illuminate\\Database\\Migrations\\Migration;\r\n\r\nclass {{ file.name }} extends Migration\r\n{\r\n    /**\r\n     * Run the migrations.\r\n     *\r\n     * @return void\r\n     */\r\n    public function up()\r\n    {\r\n        Schema::create('{{ entity.tableName }}', function (Blueprint $table) {\r\n{% for field in entity.FieldManager.list %}\r\n            {{ field.text }};\r\n{% endfor %}\r\n{% for index in entity.IndexManager.list %}\r\n            {{ index.text }};\r\n{% endfor %}\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Reverse the migrations.\r\n     *\r\n     * @return void\r\n     */\r\n    public function down()\r\n    {\r\n        Schema::dropIfExists('{{ entity.tableName }}');\r\n    }\r\n}\r\n",U="<?php\r\n\r\nnamespace {{ project.NameSpace }}\\{{ model.FileType.NameSpace }};\r\n{% if model.name == 'User' %}\r\nuse Illuminate\\Notifications\\Notifiable;\r\nuse Illuminate\\Foundation\\Auth\\User as Authenticatable;\r\n\r\nclass User extends Authenticatable\r\n{\r\n    use Notifiable;\r\n{% else %}\r\nuse Illuminate\\Database\\Eloquent\\Model;\r\n\r\n/**\r\n * class {{ model.name }}\r\n * {% for field in entity.FieldManager.list %}\r\n * @property {{ field.phpType }} ${{ field.name }}{% endfor %}\r\n */\r\nclass {{ model.name }} extends Model\r\n{\r\n{% endif %}\r\n    /**\r\n     * The table associated with the model.\r\n     *\r\n     * @var string\r\n     */\r\n    protected $table = '{{ entity.tableName }}';\r\n\r\n    /**\r\n     * The primary key for the model.\r\n     *\r\n     * @var string\r\n     */\r\n    protected $primaryKey = '{{ entity.primaryKey }}';\r\n\r\n    /**\r\n     * Indicates if the IDs are auto-incrementing.\r\n     *\r\n     * @var bool\r\n     */\r\n    public $incrementing = {{ entity.FieldManager.hasIncrement }};\r\n\r\n    /**\r\n     * The attributes that are mass assignable.\r\n     *\r\n     * @var array\r\n     */\r\n    protected $fillable = {{ entity.FieldManager.fillableText }};\r\n\r\n    /**\r\n     * The attributes that should be hidden for arrays.\r\n     *\r\n     * @var array\r\n     */\r\n    protected $hidden = {{ entity.FieldManager.hiddenText }};\r\n\r\n    /**\r\n     * The attributes that should be cast to native types.\r\n     *\r\n     * @var array\r\n     */\r\n    protected $casts = [\r\n{% for field in entity.FieldManager.list %}{% if field.cast %}\r\n        '{{ field.name }}' => '{{ field.cast }}',\r\n{% endif %}{% endfor %}\r\n    ];\r\n\r\n    /**\r\n     * Indicates if the model should be timestamped.\r\n     *\r\n     * @var bool\r\n     */\r\n    public $timestamps = {{ entity.FieldManager.hasCreateAndUpdateTimeStamp }};\r\n\r\n{% for relation in entity.RelationManager.list %}\r\n    public function {{ relation.name }}()\r\n    {\r\n        return {{ relation.text }};\r\n    }\r\n{% endfor %}\r\n}\r\n",z="<?php\r\n\r\nnamespace {{ project.NameSpace }}\\{{ file.FileType.NameSpace }};\r\n\r\nuse {{ project.NameSpace }}\\{{ model.FileType.NameSpace }}\\User;\r\nuse {{ project.NameSpace }}\\{{ model.FileType.NameSpace }}\\{{ model.name }};\r\nuse Illuminate\\Auth\\Access\\HandlesAuthorization;\r\n\r\nclass {{ file.name }}\r\n{\r\n    use HandlesAuthorization;\r\n\r\n    /**\r\n     * Determine whether the user can view the {{ model.name }}.\r\n     *\r\n     * @param  \\{{ project.NameSpace }}\\{{ model.FileType.NameSpace }}\\User  $user\r\n     * @param  \\{{ project.NameSpace }}\\{{ model.FileType.NameSpace }}\\{{ model.name }}  ${{ model.snakeCase }}\r\n     * @return mixed\r\n     */\r\n    public function view(User $user, {{ model.name }} ${{ model.snakeCase }})\r\n    {\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * Determine whether the user can create {{ model.name }}.\r\n     *\r\n     * @param  \\{{ project.NameSpace }}\\{{ model.FileType.NameSpace }}\\User  $user\r\n     * @return mixed\r\n     */\r\n    public function create(User $user)\r\n    {\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * Determine whether the user can update the {{ model.name }}.\r\n     *\r\n     * @param  \\{{ project.NameSpace }}\\{{ model.FileType.NameSpace }}\\User  $user\r\n     * @param  \\{{ project.NameSpace }}\\{{ model.FileType.NameSpace }}\\{{ model.name }}  ${{ model.snakeCase }}\r\n     * @return mixed\r\n     */\r\n    public function update(User $user, {{ model.name }} ${{ model.snakeCase }})\r\n    {\r\n        return $user->id === ${{ model.snakeCase }}->user_id;\r\n    }\r\n\r\n    /**\r\n     * Determine whether the user can delete the {{ model.name }}.\r\n     *\r\n     * @param  \\{{ project.NameSpace }}\\{{ model.FileType.NameSpace }}\\User  $user\r\n     * @param  \\{{ project.NameSpace }}\\{{ model.FileType.NameSpace }}\\{{ model.name }}  ${{ model.snakeCase }}\r\n     * @return mixed\r\n     */\r\n    public function delete(User $user, {{ model.name }} ${{ model.snakeCase }})\r\n    {\r\n        return $user->id === ${{ model.snakeCase }}->user_id;\r\n    }\r\n}\r\n",H="<?php\r\n\r\nnamespace {{ project.NameSpace }}\\{{ request.FileType.NameSpace }};\r\n\r\nuse Illuminate\\Foundation\\Http\\FormRequest;\r\n\r\nclass {{ request.name }} extends FormRequest\r\n{\r\n    /**\r\n     * Determine if the user is authorized to make this request.\r\n     *\r\n     * @return bool\r\n     */\r\n    public function authorize()\r\n    {\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * Get the validation rules that apply to the request.\r\n     *\r\n     * @return array\r\n     */\r\n    public function rules()\r\n    {\r\n        return [\r\n{% for field in entity.FieldManager.list %}{% if field.included %}\r\n            '{{ field.name }}' => {{ field.RuleManager.text }},\r\n{% endif %}{% endfor %}\r\n        ];\r\n    }\r\n}",J="<?php\r\n\r\nnamespace {{ project.NameSpace }}\\{{ file.FileType.NameSpace }};\r\n\r\nuse Illuminate\\Http\\Resources\\Json\\Resource;\r\n\r\nclass {{ file.name }} extends Resource\r\n{\r\n    /**\r\n     * Transform the resource into an array.\r\n     *\r\n     * @param  \\Illuminate\\Http\\Request  $request\r\n     * @return array\r\n     */\r\n    public function toArray($request)\r\n    {\r\n        return [\r\n{% for field in entity.FieldManager.list %}{% if field.hidden == false %}\r\n            '{{ field.name }}' => $this->{{ field.name }},\r\n{% endif %}{% endfor %}\r\n        ];\r\n    }\r\n}\r\n",V="<?php\r\n\r\nuse Illuminate\\Database\\Seeder;\r\nuse {{ project.NameSpace }}\\{{ model.FileType.NameSpace }}\\{{ model.name }};\r\n\r\nclass {{ file.name }} extends Seeder\r\n{\r\n    /**\r\n     * Run the database seeds.\r\n     *\r\n     * @return void\r\n     */\r\n    public function run()\r\n    {\r\n        factory({{ model.name }}::class, {{ file.FileType.get('count').value }})->create();\r\n    }\r\n}\r\n",Z="<?php\r\n\r\nnamespace Tests\\Feature\\Controller;\r\n\r\nuse {{ project.NameSpace }}\\{{ model.FileType.NameSpace }}\\{{ model.name }};\r\nuse Tests\\TestCase;\r\nuse Illuminate\\Foundation\\Testing\\WithFaker;\r\nuse Illuminate\\Foundation\\Testing\\RefreshDatabase;\r\nuse Illuminate\\Foundation\\Testing\\TestResponse;\r\n\r\nclass {{ file.name }} extends TestCase\r\n{\r\n    static $id = 0;\r\n    protected $uri = '/api/{{ entity.snakeCase }}';\r\n\r\n    public function testIndex()\r\n    {\r\n        $response = $this->getJson($this->uri);\r\n        $response->assertSuccessful();\r\n    }\r\n\r\n    public function testStore()\r\n    {\r\n        $item = factory({{ model.name }}::class)->make()->toArray();\r\n        $response = $this->postJson($this->uri, $item);\r\n        $response->assertSuccessful();\r\n        $data = $response->json();\r\n        static::$id = $data['item']['id'];\r\n    }\r\n\r\n    public function testShow()\r\n    {\r\n        $response = $this->getJson(\"$this->uri/\" . static::$id);\r\n        $response->assertSuccessful();\r\n    }\r\n\r\n    public function testUpdate()\r\n    {\r\n        $item = {{ model.name }}::query()->findOrFail(static::$id)->toArray();\r\n        $response = $this->patchJson(\"$this->uri/\" . static::$id, $item);\r\n        $response->assertSuccessful();\r\n    }\r\n\r\n    public function testDestroy()\r\n    {\r\n        $response = $this->deleteJson(\"$this->uri/\" . static::$id);\r\n        $response->assertSuccessful();\r\n    }\r\n\r\n}\r\n",X={controller:I,controllerapi:L,factory:B,migration:K,model:U,policy:z,request:H,resource:J,seeder:V,test:Z};function G(e,t,n){var a={project:e,entity:t,file:n,model:t.FileManager.findByType("Model"),request:t.FileManager.findByType("Request")},r=X[n.FileType.templateName];n.FileType.template&&(r=n.FileType.template);var i=O.a.renderString(r,a);return i}var W="2.1",Y=null;function Q(e){return Y=A.a.create({baseURL:e,timeout:11e3}),Y.interceptors.response.use((function(e){var t=e.data;return ae(t),t}),(function(e){return Promise.reject(e)})),ee()}function ee(){return Y.get("/entity")}function te(){return Y.get("/entity/table")}function ne(e){return Y.post("/entity",{project:JSON.stringify(e)})}function ae(e){if(e.version){var t=e.version.split("."),n=W.split(".");if(t[0]===n[0]&&t[0]-n[0]>=0)return}throw new Error("Version does not match!\nPHP package version: ".concat(e.version,"\nRequired version: ").concat(W))}function re(e){return Y.post("/entity/code",{files:e})}function ie(e,t,n,a){var r=n.FileType.path+"/"+n.fileName;a[r]=G(e,t,n)}function se(e,t,n){t.FileManager.list.forEach((function(a){ie(e,t,a,n)}))}function le(e,t,n){var a={};return ie(e,t,n,a),re(a)}function oe(e,t){var n={};return se(e,t,n),re(n)}function ce(e){var t={};return e.EntityManager.list.forEach((function(n){se(e,n,t)})),re(t)}var ue=n("ecc0"),de=n.n(ue),me=n("9d1e"),fe=n.n(me);function pe(e){var t=e.fileName,n=JSON.stringify(e),a=new Blob([n],{type:"text/plain;charset=utf-8"});de.a.saveAs(a,t)}function ve(e){var t=new fe.a;e.EntityManager.list.forEach((function(n){be(n,e,t)})),t.generateAsync({type:"blob"}).then((function(t){var n=e.name+".zip";de.a.saveAs(t,n)}))}function he(e,t){var n=new fe.a;be(e,t,n),n.generateAsync({type:"blob"}).then((function(e){var n=t.name+".zip";de.a.saveAs(e,n)}))}function be(e,t,n){e.FileManager.list.forEach((function(a){_e(a,e,t,n)}))}function _e(e,t,n,a){var r=e.FileType.path.split("/"),i=r.filter((function(e){return e.length})),s=a;i.forEach((function(e){s=s.folder(e)}));var l=G(n,t,e);s.file(e.fileName,l)}O.a.configure({autoescape:!1});var ge=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",["project"==e.bus.tab?[n("table",{staticClass:"table"},[e._m(0),e._m(1),n("tbody",[n("tr",[n("td",[e._v("name")]),n("td",[n("span",{staticClass:"btn btn-default",on:{click:e.setName}},[e._v(e._s(e.bus.project.name))])])]),n("tr",[n("td",[e._v("NameSpace")]),n("td",[n("span",{staticClass:"btn btn-default",on:{click:e.setNameSpace}},[e._v(e._s(e.bus.project.NameSpace))])])])])]),n("Entity",{attrs:{manager:e.bus.project.EntityManager}})]:e._e(),e.bus.entity?["diagram"==e.bus.tab?n("Diagram"):e._e(),"file"==e.bus.tab?n("FileType"):e._e(),"Migration"==e.bus.tab?n("Migration"):e._e(),"Model"==e.bus.tab?n("Model"):e._e(),"Request"==e.bus.tab?n("Request"):e._e(),"Factory"==e.bus.tab?n("Factory"):e._e(),"more"==e.bus.tab?n("FileList"):e._e()]:e._e()],2)},ye=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("caption",[n("h3",[e._v("Property")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("thead",[n("tr",[n("th",{attrs:{width:"160px"}},[e._v("Name")]),n("th",[e._v("Value")])])])}],$e=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"title"},[n("h1",[e._v("Diagram")]),n("span",{staticClass:"btn btn-success",on:{click:e.draw}},[e._v("Draw")])]),n("canvas",{attrs:{id:"diagram-canvas"}})])},Ce=[],we=n("7927"),ke=n.n(we);n("7514");function Fe(e){var t=[];return t.push("#fill: #FEFEFE"),t.push("#fontSize: 16"),e.EntityManager.list.forEach((function(n){var a=xe(n);t.push(a);var r=je(n,e);t.push(r)})),t.join("\n\n")}function xe(e){var t=[];e.FieldManager.list.forEach((function(e){t.push("".concat(e.name,": ").concat(e.type))}));var n=t.join(";");return"[".concat(e.tableName,"|").concat(n,"]")}function je(e,t){var n=[];return e.RelationManager.list.forEach((function(a){var r=t.EntityManager.find(a.model);n.push(Ne(e,r,a))})),n.join("\n")}function Ne(e,t,n){var a=e.tableName,r=t.tableName,i=Te(n.type);return"[".concat(a,"]").concat(i,"[").concat(r,"]")}function Te(e){return"hasOne"===e?"1 -> 1":"hasMany"===e?"1 -> *":"belongsTo"===e?"* -> 1":"* -> *"}var Me={name:"Diagram",data:function(){return{bus:c}},methods:{draw:function(){var e=document.getElementById("diagram-canvas"),t=Fe(c.project);ke.a.draw(e,t)}}},Se=Me,De=Object(m["a"])(Se,$e,Ce,!1,null,null,null),Ee=De.exports,Pe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",e._l(e.bus.project.FileTypeManager.list,(function(t){return n("div",{key:t.name},[t.name==e.bus.type?[n("table",{staticClass:"table table-striped"},[n("caption",{staticClass:"title"},[n("h1",[e._v(e._s(t.name))]),t.original?e._e():n("span",{staticClass:"btn btn-danger",on:{click:function(n){return e.remove(t)}}},[e._v(" X ")])]),e._m(0,!0),n("tbody",[n("tr",[n("td",[e._v("path")]),n("td",[n("span",{staticClass:"btn btn-default",on:{click:function(n){return e.change("path",t)}}},[e._v(e._s(e.plus(t.path)))])])]),n("tr",[n("td",[e._v("NameSpace")]),n("td",[n("span",{staticClass:"btn btn-default",on:{click:function(n){return e.change("NameSpace",t)}}},[e._v(e._s(e.plus(t.NameSpace)))])])]),n("tr",[n("td",[e._v("prefix")]),n("td",[n("span",{staticClass:"btn btn-default",on:{click:function(n){return e.change("prefix",t)}}},[e._v(e._s(e.plus(t.prefix)))])])]),n("tr",[n("td",[e._v("suffix")]),n("td",[n("span",{staticClass:"btn btn-default",on:{click:function(n){return e.change("suffix",t)}}},[e._v(e._s(e.plus(t.suffix)))])])]),n("tr",[n("td",[e._v("templateName")]),n("td",[n("span",{staticClass:"btn btn-default",on:{click:function(n){return e.change("templateName",t)}}},[e._v(e._s(e.plus(t.templateName)))])])]),n("tr",[n("td",[e._v("template")]),n("td",[n("span",{staticClass:"btn btn-default",on:{click:function(t){e.visible=!e.visible}}},[e._v(" * ")])])]),n("tr",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}]},[n("td"),n("td",[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.template,expression:"file.template"}],staticClass:"form-control",attrs:{rows:"11"},domProps:{value:t.template},on:{input:function(n){n.target.composing||e.$set(t,"template",n.target.value)}}})])])])]),n("Property",{attrs:{manager:t.PropertyManager}})]:e._e()],2)})),0)},qe=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("thead",[n("tr",[n("th",{attrs:{width:"160px"}},[e._v("Name")]),n("th",[e._v("Value")])])])}],Ae=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("table",{staticClass:"table table-striped"},[n("caption",[n("h3",[e._t("default",[e._v("Property")])],2)]),e._m(0),n("tbody",[e._l(e.manager.list,(function(t){return n("tr",{key:t.name},[n("td",{staticClass:"button-cell"},[n("div",{staticClass:"btn-group"},[n("span",{staticClass:"btn btn-danger",on:{click:function(n){return e.remove(t)}}},[e._v(" X ")]),n("span",{staticClass:"btn btn-default",on:{click:function(n){return e.manager.moveUp(t)}}},[e._v(" ↑ ")]),n("span",{staticClass:"btn btn-default",on:{click:function(n){return e.manager.moveDown(t)}}},[e._v(" ↓ ")])])]),n("td",[n("span",{staticClass:"btn btn-default",on:{click:function(n){return e.setName(t)}}},[e._v(e._s(t.name))])]),n("td",[n("span",{staticClass:"btn btn-default",on:{click:function(n){return e.setValue(t)}}},[e._v(e._s(e.plus(t.value)))])])])})),n("tr",[n("td"),n("td",[e.noadd?e._e():n("span",{staticClass:"btn btn-primary plus",on:{click:e.add}},[e._v(" + ")])]),n("td")])],2)])},Re=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("thead",[n("tr",[n("th",{attrs:{width:"130px"}}),n("th",{attrs:{width:"160px"}},[e._v("Name")]),n("th",[e._v("Value")])])])}],Oe={name:"Property",props:["manager","noadd"],data:function(){return{}},methods:{plus:function(e){return e||"+"},add:function(){var e=this;C("Please enter the name").then((function(t){if(t.value)try{var n=e.manager.make(t.value);e.manager.add(n)}catch(a){y(a,400)}}))},remove:function(e){var t=this;$("Are you sure?").then((function(n){n.value&&t.manager.remove(e)}))},setName:function(e){C("Please enter the name",e.name).then((function(t){if(t.value)try{e.name=t.value}catch(n){y(n,400)}}))},setValue:function(e){C("Please enter the value",e.value).then((function(t){if(t.value)try{e.value=t.value}catch(n){y(n,400)}}))}}},Ie=Oe,Le=Object(m["a"])(Ie,Ae,Re,!1,null,null,null),Be=Le.exports,Ke={name:"FileType",components:{Property:Be},data:function(){return{bus:c,visible:!1}},methods:{plus:function(e){return e||"+"},change:function(e,t){C("Please enter the "+e,t[e]).then((function(n){if(void 0!==n.value)try{t[e]=n.value}catch(a){y(a,400)}}))},remove:function(e){$("Are you sure?").then((function(t){t.value&&c.project.FileTypeManager.remove(e)}))}}},Ue=Ke,ze=Object(m["a"])(Ue,Pe,qe,!1,null,null,null),He=ze.exports,Je=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("File",{attrs:{file:e.bus.file,type:e.bus.tab}},[n("Field",{attrs:{manager:e.bus.entity.FieldManager}}),n("Index",{attrs:{manager:e.bus.entity.IndexManager}})],1)},Ve=[],Ze=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"title file-title button-cell"},[n("h1",[e._v(e._s(e.type))]),e.file?[n("span",{staticClass:"btn-group"},[n("span",{staticClass:"btn btn-danger",on:{click:e.remove}},[e._v(" X ")]),n("span",{staticClass:"btn btn-primary",on:{click:e.template}},[e._v("Template")]),n("span",{staticClass:"btn btn-success",on:{click:e.preview}},[e._v("Preview")])]),n("span",[e._v(e._s(e.file.fileName))])]:n("span",{staticClass:"btn btn-primary",on:{click:e.add}},[e._v(" + ")])],2),e.file?n("div",[e._t("default")],2):e._e()])},Xe=[],Ge=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Dialogue",{attrs:{dData:e.CDData.dData}},[n("template",{slot:"title"},[e._v("\n        "+e._s(e.CDData.title)+"\n        "),n("span",{staticClass:"btn-group"},[e.CDData.editing?n("span",{staticClass:"btn btn-primary",on:{click:e.save}},[e._v("Save")]):e._e(),e.CDData.editing?n("span",{staticClass:"btn btn-warning",on:{click:e.reset}},[e._v("Reset")]):e._e()])]),n("template",{slot:"body"},[e.CDData.editing?n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.CDData.code,expression:"CDData.code"}],staticClass:"form-control",attrs:{rows:"22",spellcheck:"false"},domProps:{value:e.CDData.code},on:{input:function(t){t.target.composing||e.$set(e.CDData,"code",t.target.value)}}}):n("pre",{staticClass:"code"},[e._v(e._s(e.CDData.code))])])],2)},We=[],Ye=n("d225"),Qe=n("b0b4"),et=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.dData.visible?n("div",{staticClass:"modal show",attrs:{tabindex:"-1",role:"dialog"},on:{click:e.close}},[n("div",{staticClass:"modal-dialog",class:{"modal-lg":e.dData.big},attrs:{role:"document"},on:{click:function(e){e.stopPropagation()}}},[n("div",{staticClass:"modal-content"},[n("div",{staticClass:"modal-header"},[n("span",{directives:[{name:"show",rawName:"v-show",value:e.dData.canClose,expression:"dData.canClose"}],staticClass:"close",attrs:{"aria-label":"Close"},on:{click:e.close}},[n("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])]),n("h3",{staticClass:"modal-title"},[e._t("title")],2)]),n("div",{staticClass:"modal-body"},[e._t("body")],2),n("div",{directives:[{name:"show",rawName:"v-show",value:e.dData.hasFooter,expression:"dData.hasFooter"}],staticClass:"modal-footer"},[e._t("footer")],2)])])]):e._e()},tt=[],nt=function(){function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Object(Ye["a"])(this,e),this.visible=!1,this.canClose=t,this.hasFooter=n,this.big=a}return Object(Qe["a"])(e,[{key:"show",value:function(){this.visible=!0}},{key:"close",value:function(){this.visible=!1}}]),e}(),at={name:"Dialogue",props:["dData"],methods:{close:function(){this.dData.close()}}},rt=at,it=rt,st=Object(m["a"])(it,et,tt,!1,null,null,null),lt=(st.exports,function(){function e(){Object(Ye["a"])(this,e),this.title="",this.code="",this.editing=!1,this.original="",this.CallBack=null,this.dData=new nt(!0,!1,!0)}return Object(Qe["a"])(e,[{key:"show",value:function(e,t,n,a,r){this.title=e,this.code=t,this.editing=n,this.original=a,this.CallBack=r,this.dData.show()}}]),e}()),ot=new lt,ct={name:"CodeDialogue",components:{Dialogue:at},data:function(){return{CDData:ot}},methods:{save:function(){ot.CallBack&&ot.CallBack(ot.code)},reset:function(){ot.code=ot.original},close:function(){ot.dData.close()}}},ut=ct,dt=(n("3b6b"),Object(m["a"])(ut,Ge,We,!1,null,null,null)),mt=dt.exports,ft={name:"File",props:["file","type"],data:function(){return{bus:c}},methods:{add:function(){var e=c.entity.FileManager.make(this.type);c.entity.FileManager.add(e),c.file=e},template:function(){var e="",t=this.file.FileType,n=X[t.templateName];t.template?e=t.template:t.templateName&&(e=n),ot.show(t.name,e,!0,n,(function(e){t.template=e===n?"":e}))},preview:function(){try{var e=G(c.project,c.entity,this.file);ot.show(this.file.fileName,e)}catch(t){y(t,400)}},remove:function(){var e=this;$("Are you sure?").then((function(t){t.value&&(c.entity.FileManager.remove(e.file),c.showTab("project"))}))}}},pt=ft,vt=Object(m["a"])(pt,Ze,Xe,!1,null,null,null),ht=vt.exports,bt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("table",{staticClass:"table table-striped"},[e._m(0),e._m(1),n("tbody",e._l(e.manager.list,(function(t){return n("tr",{key:t.name},[n("td",{staticClass:"button-cell"},[n("div",{staticClass:"btn-group"},[n("span",{staticClass:"btn btn-danger",on:{click:function(n){return e.remove(t)}}},[e._v(" X ")]),n("span",{staticClass:"btn btn-default",on:{click:function(n){return e.manager.moveUp(t)}}},[e._v(" ↑ ")]),n("span",{staticClass:"btn btn-default",on:{click:function(n){return e.manager.moveDown(t)}}},[e._v(" ↓ ")])])]),n("td",[n("span",{staticClass:"btn btn-default",on:{click:function(n){return e.rename(t)}}},[e._v(e._s(t.name))])]),n("td",[n("span",{staticClass:"btn btn-default",on:{click:function(n){return e.setType(t)}}},[e._v(e._s(t.type))])]),n("td",[t.hasLength?n("input",{directives:[{name:"model",rawName:"v-model",value:t.length,expression:"field.length"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.length},on:{input:function(n){n.target.composing||e.$set(t,"length",n.target.value)}}}):e._e()]),n("td",[n("FieldPanel",{attrs:{field:t}})],1)])})),0),n("tfoot",[n("tr",[n("td",[n("select",{directives:[{name:"model",rawName:"v-model",value:e.selected,expression:"selected"}],staticClass:"form-control",on:{change:[function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selected=t.target.multiple?n:n[0]},function(t){return e.addType(t.target.value)}]}},[n("option",{attrs:{selected:"true",disabled:"disabled",value:""}},[e._v("...")]),e._l(e.CommonTypeList,(function(t){return n("option",{key:t},[e._v(e._s(t))])}))],2)]),n("td",[n("select",{staticClass:"form-control",on:{change:function(t){return e.addField(t.target.value,e.IntegerFieldList)}}},[n("option",{attrs:{selected:"true",disabled:"disabled"}},[e._v("...")]),e._l(e.IntegerFieldList,(function(t){return n("option",{key:t.name,domProps:{value:t.name}},[e._v(e._s(t.name))])}))],2)]),n("td",[n("select",{staticClass:"form-control",on:{change:function(t){return e.addField(t.target.value,e.CommonFieldList)}}},[n("option",{attrs:{selected:"true",disabled:"disabled"}},[e._v("...")]),e._l(e.CommonFieldList,(function(t){return n("option",{key:t.name,domProps:{value:t.name}},[e._v(e._s(t.name))])}))],2)]),n("td",[n("select",{staticClass:"form-control",on:{change:function(t){return e.addName(t.target.value)}}},[n("option",{attrs:{selected:"true",disabled:"disabled"}},[e._v("...")]),e._l(e.EntityList,(function(t){return n("option",{key:t.name},[e._v(e._s(t.tableName)+"_id")])}))],2)]),n("td",[n("span",{staticClass:"btn btn-primary plus",on:{click:e.add}},[e._v(" + ")])])])])])},_t=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("caption",[n("h3",[e._v("Field")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("thead",[n("tr",[n("th",{attrs:{width:"130px"}}),n("th",[e._v("Name")]),n("th",[e._v("Type")]),n("th",[e._v("Length / Enum")]),n("th",[e._v("Other")])])])}],gt=M.FieldTypeList,yt=["integer","char","string","text","dateTime","timestamp","decimal","float"],$t=[new M.Field("id","increments"),new M.Field("age","integer"),new M.Field("sex","integer",0),new M.Field("sort","integer"),new M.Field("status","integer",0),new M.Field("type","integer"),new M.Field("category_id","integer"),new M.Field("parent_id","integer",0),new M.Field("post_id","integer",0),new M.Field("tag_id","integer",0),new M.Field("user_id","integer")],Ct=[new M.Field("address","string"),new M.Field("content","string"),new M.Field("email","string","",!1,33),new M.Field("full_name","string","",!1,33),new M.Field("image","string"),new M.Field("link","string"),new M.Field("name","string","",!1,22),new M.Field("phone","char","",!1,11),new M.Field("text","string"),new M.Field("title","string")];function wt(e){e.fillable=!1,e.included=!1}var kt=["id","user_id"];kt.forEach((function(e){var t=$t.find((function(t){return t.name==e}));t&&wt(t)}));var Ft=new M.Field("password","char","",!1,60);Ct.push(Ft),Ft.fillable=!1,Ft.hidden=!0;var xt=new M.Field("remember_token","string","",!0,60);Ct.push(xt),wt(xt),xt.allowNull=!0,xt.hidden=!0;var jt=new M.Field("created_at","timestamp","",!0);Ct.push(jt),wt(jt),jt.allowNull=!0;var Nt=new M.Field("updated_at","timestamp","",!0);Ct.push(Nt),wt(Nt),Nt.allowNull=!0;var Tt=new M.Field("deleted_at","timestamp","",!0);Ct.push(Tt),wt(Tt),Tt.allowNull=!0;var Mt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{on:{click:function(t){e.editing=!0}}},[e.editing?n("div",[n("span",[e._v("Default: ")]),n("span",{staticClass:"input-group"},[n("span",{staticClass:"input-group-addon"},[n("input",{attrs:{type:"checkbox"},domProps:{checked:e.field.value},on:{click:function(t){return e.check(e.field)}}})]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.field.value,expression:"field.value"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.field.value},on:{input:function(t){t.target.composing||e.$set(e.field,"value",t.target.value)}}})])]):n("div",[e.field.value?n("span",[e._v("Default: "+e._s(e.field.value))]):e._e()]),e.editing?n("div",[n("span",[e._v("Comment: ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.field.comment,expression:"field.comment"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.field.comment},on:{input:function(t){t.target.composing||e.$set(e.field,"comment",t.target.value)}}})]):n("div",[e.field.comment?n("span",[e._v("Comment: "+e._s(e.field.comment))]):e._e()]),e.editing?n("div",[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.field.allowNull,expression:"field.allowNull"}],staticClass:"checkbox",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.field.allowNull)?e._i(e.field.allowNull,null)>-1:e.field.allowNull},on:{change:function(t){var n=e.field.allowNull,a=t.target,r=!!a.checked;if(Array.isArray(n)){var i=null,s=e._i(n,i);a.checked?s<0&&e.$set(e.field,"allowNull",n.concat([i])):s>-1&&e.$set(e.field,"allowNull",n.slice(0,s).concat(n.slice(s+1)))}else e.$set(e.field,"allowNull",r)}}}),e._v(" Allow Null")])]):n("div",[e.field.allowNull?n("span",[e._v("Allow Null")]):e._e()]),e.field.isNumber?[e.editing?n("div",[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.field.unsigned,expression:"field.unsigned"}],staticClass:"checkbox",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.field.unsigned)?e._i(e.field.unsigned,null)>-1:e.field.unsigned},on:{change:function(t){var n=e.field.unsigned,a=t.target,r=!!a.checked;if(Array.isArray(n)){var i=null,s=e._i(n,i);a.checked?s<0&&e.$set(e.field,"unsigned",n.concat([i])):s>-1&&e.$set(e.field,"unsigned",n.slice(0,s).concat(n.slice(s+1)))}else e.$set(e.field,"unsigned",r)}}}),e._v(" Unsigned")])]):n("div",[e.field.unsigned?n("span",[e._v("Unsigned")]):e._e()])]:e._e(),e.editing?n("div",[n("span",{staticClass:"btn btn-primary",on:{click:function(t){t.stopPropagation(),e.editing=!1}}},[e._v("OK")])]):n("div",[e._v("...")])],2)},St=[],Dt={name:"FieldPanel",props:["field"],data:function(){return{editing:!1}},methods:{check:function(e){""===e.value?e.isNumber?e.value="0":e.value="''":e.value=""}}},Et=Dt,Pt=Object(m["a"])(Et,Mt,St,!1,null,null,null),qt=Pt.exports,At=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Dialogue",{attrs:{dData:e.LDData.dData}},[n("template",{slot:"title"},[e._v(e._s(e.LDData.message))]),n("template",{slot:"body"},[n("List",{attrs:{lData:e.LDData.lData},on:{select:e.close,close:e.close}})],1)],2)},Rt=[],Ot=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"input-group"},[n("span",{staticClass:"input-group-addon"},[e._v("Search")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.filter,expression:"filter"}],ref:"filter",staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.filter},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.clear(t)},input:function(t){t.target.composing||(e.filter=t.target.value)}}})]),n("br"),n("ul",{staticClass:"list-group select-list"},e._l(e.list,(function(t){return n("li",{key:e.text(t),staticClass:"list-group-item",attrs:{value:t},on:{click:function(n){return e.select(t)}}},[n("div",[e._v(e._s(e.text(t)))]),e.lData.infoName?n("div",[e._v(e._s(e.info(t)))]):e._e()])})),0)])},It=[],Lt=function e(t,n,a,r){Object(Ye["a"])(this,e),this.list=t,this.textName=n,this.infoName=a,this.CallBack=r},Bt={name:"List",props:["lData"],data:function(){return{filter:""}},mounted:function(){this.$refs.filter.focus()},computed:{list:function(){var e=this;return this.filter?this.lData.list.filter((function(t){var n=e.text(t);return n.toLowerCase().indexOf(e.filter)>=0})):this.lData.list}},methods:{text:function(e){return this.lData.textName?this.point(e[this.lData.textName]):this.point(e)},point:function(e){return e||"..."},info:function(e){return this.lData.infoName?e[this.lData.infoName]:e},select:function(e){this.lData.CallBack&&this.lData.CallBack(e),this.$emit("select",e)},clear:function(){this.filter?this.filter="":this.$emit("close")}}},Kt=Bt,Ut=Kt,zt=(n("f62b"),Object(m["a"])(Ut,Ot,It,!1,null,null,null)),Ht=(zt.exports,function(){function e(){Object(Ye["a"])(this,e),this.dData=new nt,this.lData=null}return Object(Qe["a"])(e,[{key:"show",value:function(e,t,n,a,r){this.message=e,this.lData=new Lt(t,n,a,r),this.dData.show()}}]),e}()),Jt=new Ht,Vt={name:"ListDialogue",components:{Dialogue:at,List:Bt},data:function(){return{LDData:Jt}},methods:{close:function(){Jt.dData.close()}}},Zt=Vt,Xt=Object(m["a"])(Zt,At,Rt,!1,null,null,null),Gt=Xt.exports,Wt={name:"Field",props:["manager"],components:{FieldPanel:qt},data:function(){return{EntityList:c.project.EntityManager.list,CommonFieldList:Ct,CommonTypeList:yt,IntegerFieldList:$t,selected:""}},methods:{add:function(){var e=this;try{Jt.show("Select a Type",gt,"type",null,(function(t){var n=e.manager.cloneType(t.type);e.manager.add(n),e.rename(n)}))}catch(t){y(t,400)}},addField:function(e,t){try{var n=t.find((function(t){return t.name===e})),a=this.manager.make(n.name,n.type);a.load(n),this.manager.add(a)}catch(r){y(r,400)}},addName:function(e){try{var t=this.manager.make(e,"integer");this.manager.add(t)}catch(n){y(n,400)}},addType:function(e){try{this.selected="";var t=this.manager.cloneType(e);this.manager.add(t),this.rename(t)}catch(n){y(n,400)}},remove:function(e){var t=this;$("Are you sure?").then((function(n){n.value&&t.manager.remove(e)}))},rename:function(e){C("Please enter the Field name",e.name).then((function(t){if(t.value)try{e.name=t.value}catch(n){y(n,400)}}))},setType:function(e){Jt.show("Select a Type",gt,"type",null,(function(t){e.type=t.type}))}}},Yt=Wt,Qt=Object(m["a"])(Yt,bt,_t,!1,null,null,null),en=Qt.exports,tn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("table",{staticClass:"table table-striped"},[e._m(0),e._m(1),n("tbody",e._l(e.manager.list,(function(t){return n("tr",{key:t.name},[n("td",{staticClass:"button-cell"},[n("div",{staticClass:"btn-group"},[n("span",{staticClass:"btn btn-danger",on:{click:function(n){return e.remove(t)}}},[e._v(" X ")]),n("span",{staticClass:"btn btn-default",on:{click:function(n){return e.manager.moveUp(t)}}},[e._v(" ↑ ")]),n("span",{staticClass:"btn btn-default",on:{click:function(n){return e.manager.moveDown(t)}}},[e._v(" ↓ ")])])]),n("td",[n("select",{directives:[{name:"model",rawName:"v-model",value:t.type,expression:"index.type"}],staticClass:"form-control",on:{change:function(n){var a=Array.prototype.filter.call(n.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(t,"type",n.target.multiple?a:a[0])}}},[n("option",{attrs:{value:"primary"}},[e._v("primary")]),n("option",{attrs:{value:"unique"}},[e._v("unique")]),n("option",{attrs:{value:"index"}},[e._v("index")])])]),n("td",[e._l(t.FieldManager.list,(function(a){return n("span",{key:a.name,staticClass:"index-border pull-left"},[n("div",{staticClass:"text-center"},[e._v(e._s(a.name))]),n("div",{staticClass:"btn-group"},[n("span",{staticClass:"btn btn-info btn-xs",on:{click:function(e){return t.FieldManager.moveUp(a)}}},[e._v(" ← ")]),n("span",{staticClass:"btn btn-info btn-xs",on:{click:function(e){return t.FieldManager.moveDown(a)}}},[e._v(" → ")]),n("span",{staticClass:"btn btn-danger btn-xs",on:{click:function(e){return t.FieldManager.remove(a)}}},[e._v(" X ")])])])})),n("span",{staticClass:"btn btn-default",on:{click:function(n){return e.addField(t)}}},[e._v(" + ")])],2)])})),0),n("tfoot",[n("tr",[n("td"),n("td",[n("span",{staticClass:"btn btn-primary plus",on:{click:e.add}},[e._v(" + ")])]),n("td")])])])},nn=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("caption",[n("h3",[e._v("Index")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("thead",[n("tr",[n("th",{attrs:{width:"130px"}}),n("th",{attrs:{width:"120px"}},[e._v("Type")]),n("th",[e._v("Field")])])])}],an={name:"Index",props:["manager"],data:function(){return{bus:c}},methods:{add:function(){var e="index"+Date.now(),t=this.manager.make(e);this.manager.add(t)},addField:function(e){Jt.show("Select a Field",c.entity.FieldManager.list,"name",null,(function(t){try{var n=e.FieldManager.make(t.name);e.FieldManager.add(n)}catch(a){y(a,400)}}))},remove:function(e){var t=this;$("Are you sure?").then((function(n){n.value&&t.manager.remove(e)}))}}},rn=an,sn=(n("024c"),Object(m["a"])(rn,tn,nn,!1,null,null,null)),ln=sn.exports,on={name:"Migration",components:{File:ht,Field:en,Index:ln},data:function(){return{bus:c}}},cn=on,un=Object(m["a"])(cn,Je,Ve,!1,null,null,null),dn=un.exports,mn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("File",{attrs:{file:e.bus.file,type:e.bus.tab}},[n("Cast",{attrs:{manager:e.bus.entity.FieldManager}}),n("RelationList",{attrs:{manager:e.bus.entity.RelationManager}})],1)},fn=[],pn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("table",{staticClass:"table table-striped"},[e._m(0),e._m(1),n("tbody",e._l(e.manager.list,(function(t){return n("tr",{key:t.name},[n("td",[e._v(e._s(t.name))]),n("td",[e._v(e._s(t.type))]),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.fillable,expression:"field.fillable"}],staticClass:"checkbox",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.fillable)?e._i(t.fillable,null)>-1:t.fillable},on:{change:function(n){var a=t.fillable,r=n.target,i=!!r.checked;if(Array.isArray(a)){var s=null,l=e._i(a,s);r.checked?l<0&&e.$set(t,"fillable",a.concat([s])):l>-1&&e.$set(t,"fillable",a.slice(0,l).concat(a.slice(l+1)))}else e.$set(t,"fillable",i)}}})]),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.hidden,expression:"field.hidden"}],staticClass:"checkbox",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.hidden)?e._i(t.hidden,null)>-1:t.hidden},on:{change:function(n){var a=t.hidden,r=n.target,i=!!r.checked;if(Array.isArray(a)){var s=null,l=e._i(a,s);r.checked?l<0&&e.$set(t,"hidden",a.concat([s])):l>-1&&e.$set(t,"hidden",a.slice(0,l).concat(a.slice(l+1)))}else e.$set(t,"hidden",i)}}})]),n("td",[n("div",{staticClass:"btn-group"},[n("span",{staticClass:"btn btn-default",on:{click:function(n){return e.select(t)}}},[e._v(e._s(e.plus(t)))]),n("span",{staticClass:"btn btn-default",on:{click:function(n){return e.change(t)}}},[e._v(" * ")])])])])})),0)])},vn=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("caption",[n("h3",[e._v("Cast")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("thead",[n("tr",[n("th",{attrs:{width:"120px"}},[e._v("Field")]),n("th",{attrs:{width:"120px"}},[e._v("Type")]),n("th",{attrs:{width:"66px"}},[e._v("Fillable")]),n("th",{attrs:{width:"66px"}},[e._v("Hidden")]),n("th",[e._v("Cast")])])])}],hn=(n("5df3"),n("1c4c"),[""].concat(Array.from(M.PHPTypeCastMap.keys()))),bn={name:"Cast",props:["manager"],data:function(){return{}},methods:{plus:function(e){return e.cast?e.cast:"+"},select:function(e){Jt.show("Select a Type",hn,null,null,(function(t){e.cast=t}))},change:function(e){e.cast&&C("Please enter something",e.cast).then((function(t){t.value&&(e.cast=t.value)}))}}},_n=bn,gn=Object(m["a"])(_n,pn,vn,!1,null,null,null),yn=gn.exports,$n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("table",{staticClass:"table table-striped"},[e._m(0),e._m(1),n("tbody",e._l(e.manager.list,(function(t){return n("Relation",{key:t.name,attrs:{relation:t,manager:e.manager},on:{remove:e.remove}})})),1),n("tfoot",[n("tr",[n("td"),n("td",[n("select",{staticClass:"form-control",on:{change:function(t){return e.add(t.target.value)}}},[n("option",{attrs:{selected:"true",disabled:"disabled"}},[e._v("...")]),e._l(e.EntityList,(function(t){return n("option",{key:t.name,domProps:{value:t.name}},[e._v(e._s(t.name))])}))],2)]),n("td"),n("td"),n("td"),n("td"),n("td")])])])},Cn=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("caption",[n("h3",[e._v("Relation")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("thead",[n("tr",[n("th",{attrs:{width:"130px"}}),n("th",{attrs:{width:"180px"}},[e._v("Type")]),n("th",[e._v("Model")]),n("th",[e._v("Method Name")]),n("th",[e._v("Pivot Table")]),n("th",[e._v("Foreign Field")]),n("th",[e._v("Local Field")])])])}],wn=(n("b54a"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("tr",[n("td",{staticClass:"button-cell"},[n("div",{staticClass:"btn-group"},[n("span",{staticClass:"btn btn-danger",on:{click:function(t){return e.$emit("remove",e.relation)}}},[e._v(" X ")]),n("span",{staticClass:"btn btn-default",on:{click:function(t){return e.manager.moveUp(e.relation)}}},[e._v(" ↑ ")]),n("span",{staticClass:"btn btn-default",on:{click:function(t){return e.manager.moveDown(e.relation)}}},[e._v(" ↓ ")])])]),n("td",[n("select",{directives:[{name:"model",rawName:"v-model",value:e.relation.type,expression:"relation.type"}],staticClass:"form-control",on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.relation,"type",t.target.multiple?n:n[0])}}},[n("option",{attrs:{value:"belongsTo"}},[e._v("belongsTo")]),n("option",{attrs:{value:"belongsToMany"}},[e._v("belongsToMany")]),n("option",{attrs:{value:"hasOne"}},[e._v("hasOne")]),n("option",{attrs:{value:"hasMany"}},[e._v("hasMany")])])]),n("td",[e._v(e._s(e.relation.model))]),n("td",[n("span",{staticClass:"btn btn-default",on:{click:e.rename}},[e._v(e._s(e.relation.name))])]),n("td",["belongsToMany"==e.relation.type?n("span",{staticClass:"btn btn-default",on:{click:e.setPivot}},[e._v(e._s(e.plus(e.relation.pivot)))]):e._e()]),n("td",[e.hasForeignKey?n("span",{staticClass:"btn btn-default",on:{click:e.setForeignKey}},[e._v(e._s(e.plus(e.relation.foreignKey)))]):e._e()]),n("td",[e.hasLocalKey?n("span",{staticClass:"btn btn-default",on:{click:e.setLocalKey}},[e._v(e._s(e.plus(e.relation.localKey)))]):e._e()])])}),kn=[],Fn={name:"Relation",props:["relation","manager"],data:function(){return{bus:c}},computed:{hasForeignKey:function(){return"belongsTo"!=this.relation.type},hasLocalKey:function(){return"belongsTo"==this.relation.type||"belongsToMany"==this.relation.type}},methods:{plus:function(e){return e||"+"},rename:function(){var e=this;C("Please enter the Method name",this.relation.name).then((function(t){if(t.value)try{e.relation.name=t.value}catch(n){y(n,400)}}))},setPivot:function(){var e=this,t={name:""},n=[t].concat(c.project.EntityManager.list);Jt.show("Select a Table",n,"name",null,(function(t){try{e.relation.pivot=t.tableName}catch(n){y(n,400)}}))},setForeignKey:function(){var e="foreignKey";if("belongsToMany"!=this.relation.type){var t=c.project.EntityManager.findByModel(this.relation.model);this.setKey(e,t)}else this.setKeyInPivot(e)},setLocalKey:function(){var e="localKey";if("belongsToMany"!=this.relation.type){var t=c.entity;this.setKey(e,t)}else this.setKeyInPivot(e)},setKeyInPivot:function(e){if(this.relation.pivot){var t=c.project.EntityManager.findByTable(this.relation.pivot);this.setKey(e,t)}else y("Select a pivot table first!")},setKey:function(e,t){var n=this,a={name:""},r=[a].concat(t.FieldManager.list);Jt.show("Select a Field",r,"name",null,(function(t){try{n.relation[e]=t.name}catch(a){y(a,400)}}))}}},xn=Fn,jn=Object(m["a"])(xn,wn,kn,!1,null,null,null),Nn=jn.exports,Tn={name:"RelationList",components:{Relation:Nn},props:["manager"],data:function(){return{bus:c,EntityList:c.project.EntityManager.list}},created:function(){},methods:{add:function(e){try{var t=this.EntityList.find((function(t){return t.name===e})),n=this.manager.link(t);this.manager.add(n)}catch(a){y(a,400)}},remove:function(e){var t=this;$("Are you sure?").then((function(n){n.value&&t.manager.remove(e)}))}}},Mn=Tn,Sn=Object(m["a"])(Mn,$n,Cn,!1,null,null,null),Dn=Sn.exports,En={name:"Model",components:{File:ht,Cast:yn,RelationList:Dn},data:function(){return{bus:c}}},Pn=En,qn=Object(m["a"])(Pn,mn,fn,!1,null,null,null),An=qn.exports,Rn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("File",{attrs:{file:e.bus.file,type:e.bus.tab}},[n("Faker",{attrs:{manager:e.bus.entity.FieldManager}})],1)},On=[],In=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("table",{staticClass:"table table-striped"},[e._m(0),e._m(1),n("tbody",e._l(e.manager.list,(function(t){return n("tr",{key:t.name},[n("td",[e._v(e._s(t.name))]),n("td",[n("select",{directives:[{name:"model",rawName:"v-model",value:t.seed.type,expression:"field.seed.type"}],staticClass:"form-control",on:{change:function(n){var a=Array.prototype.filter.call(n.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(t.seed,"type",n.target.multiple?a:a[0])}}},[n("option",{attrs:{value:"raw"}},[e._v("Raw")]),n("option",{attrs:{value:"property"}},[e._v("Property")]),n("option",{attrs:{value:"method"}},[e._v("Method")])])]),n("td",["raw"==t.seed.type?n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.seed.raw,expression:"field.seed.raw"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.seed.raw},on:{input:function(n){n.target.composing||e.$set(t.seed,"raw",n.target.value)}}})]):n("div",{staticClass:"form-inline"},[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.seed.unique,expression:"field.seed.unique"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.seed.unique)?e._i(t.seed.unique,null)>-1:t.seed.unique},on:{change:function(n){var a=t.seed.unique,r=n.target,i=!!r.checked;if(Array.isArray(a)){var s=null,l=e._i(a,s);r.checked?l<0&&e.$set(t.seed,"unique",a.concat([s])):l>-1&&e.$set(t.seed,"unique",a.slice(0,l).concat(a.slice(l+1)))}else e.$set(t.seed,"unique",i)}}}),e._v(" Unique")]),"method"==t.seed.type?[n("span",{staticClass:"btn btn-default",on:{click:function(n){return e.setMethod(t)}}},[e._v(e._s(t.seed.method))]),e._v("\n                        (\n                        "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.seed.parameter,expression:"field.seed.parameter"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.seed.parameter},on:{input:function(n){n.target.composing||e.$set(t.seed,"parameter",n.target.value)}}}),e._v("\n                        )\n                    ")]:e._e(),"property"==t.seed.type?[n("span",{staticClass:"btn btn-default",on:{click:function(n){return e.setProperty(t)}}},[e._v(e._s(t.seed.property))])]:e._e()],2)])])})),0),e._m(2)])},Ln=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("caption",[n("h3",[e._v("Faker")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("thead",[n("tr",[n("th",{attrs:{width:"120px"}},[e._v("Field")]),n("th",{attrs:{width:"120px"}},[e._v("Type")]),n("th",[e._v("Method / Property")])])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("tfoot",[n("tr",[n("td"),n("td"),n("td")])])}],Bn={name:"Faker",props:["manager"],data:function(){return{}},created:function(){},methods:{setMethod:function(e){Jt.show("Select a Method",M.FakerMethodList,null,null,(function(t){e.seed.method=t}))},setProperty:function(e){Jt.show("Select a Property",M.FakerPropertyList,null,null,(function(t){e.seed.property=t}))}}},Kn=Bn,Un=Object(m["a"])(Kn,In,Ln,!1,null,null,null),zn=Un.exports,Hn={name:"Factory",components:{Faker:zn,File:ht},data:function(){return{bus:c}}},Jn=Hn,Vn=Object(m["a"])(Jn,Rn,On,!1,null,null,null),Zn=Vn.exports,Xn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("table",{staticClass:"table table-striped"},[e._m(0),e._m(1),n("tbody",e._l(e.manager.list,(function(t){return n("tr",{key:t.name},[n("td",{staticClass:"button-cell"},[n("div",{staticClass:"btn-group"},[n("span",{staticClass:"btn btn-danger",on:{click:function(n){return e.remove(t)}}},[e._v(" X ")]),n("span",{staticClass:"btn btn-default",on:{click:function(n){return e.manager.moveUp(t)}}},[e._v(" ↑ ")]),n("span",{staticClass:"btn btn-default",on:{click:function(n){return e.manager.moveDown(t)}}},[e._v(" ↓ ")]),e.bus.php?n("span",{staticClass:"btn btn-success",on:{click:function(n){return e.deployGroup(t)}}},[e._v("Deploy")]):n("span",{staticClass:"btn btn-success",on:{click:function(n){return e.zip(t)}}},[e._v("Zip")])])]),n("td",[n("span",{staticClass:"btn btn-default",on:{click:function(n){return e.setName(t)}}},[e._v(e._s(t.name))])]),n("td",[n("span",{staticClass:"btn btn-default",on:{click:function(n){return e.setTableName(t)}}},[e._v(e._s(t.tableName))])]),n("td",[n("div",{staticClass:"btn-group"},e._l(t.FileManager.list,(function(a){return n("span",{key:a.fileTypeName,staticClass:"btn btn-default btn-sm",on:{click:function(n){return e.deploy(a,t)}}},[e._v("\n                        "+e._s(a.fileTypeName)+"\n                    ")])})),0)])])})),0),n("tfoot",[n("tr",[n("td",[e.bus.php?n("span",{staticClass:"btn btn-success",on:{click:e.deployAll}},[e._v("Deploy")]):n("span",{staticClass:"btn btn-success",on:{click:e.zipAll}},[e._v("Zip All")])]),n("td"),n("td"),n("td")])])])},Gn=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("caption",[n("h3",[e._v("Entity")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("thead",[n("tr",[n("th",{attrs:{width:"200px"}}),n("th",[e._v("Name")]),n("th",[e._v("Table")]),n("th",[e._v("File")])])])}],Wn={name:"Entity",props:["manager"],data:function(){return{bus:c}},methods:{setName:function(e){C("Please enter the Main name",e.name).then((function(t){if(t.value)try{e.name=t.value}catch(n){y(n,400)}}))},setTableName:function(e){C("Please enter the Table name",e.tableName).then((function(t){if(t.value)try{e.tableName=t.value}catch(n){y(n,400)}}))},remove:function(e){var t=this;$("Are you sure?").then((function(n){n.value&&t.manager.remove(e)}))},deploy:function(e,t){c.php&&le(c.project,t,e).then((function(e){y(e.data.message,200)})).catch((function(e){y(e.message,400)}))},deployGroup:function(e){oe(c.project,e).then((function(e){y(e.data.message,200)})).catch((function(e){y(e.message,400)}))},deployAll:function(){ce(c.project).then((function(e){y(e.data.message,200)})).catch((function(e){y(e.message,400)}))},zip:function(e){try{he(e,c.project)}catch(t){y(t,400)}},zipAll:function(){try{ve(c.project)}catch(e){y(e,400)}}}},Yn=Wn,Qn=Object(m["a"])(Yn,Xn,Gn,!1,null,null,null),ea=Qn.exports,ta=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("File",{attrs:{file:e.bus.file,type:e.bus.tab}},[n("Validation",{attrs:{manager:e.bus.entity.FieldManager,entity:e.bus.entity}})],1)},na=[],aa=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("table",{staticClass:"table table-striped"},[e._m(0),e._m(1),n("tbody",e._l(e.manager.list,(function(t){return n("tr",{key:t.name,class:{disabled:!t.included}},[n("td",[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.included,expression:"field.included"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.included)?e._i(t.included,null)>-1:t.included},on:{change:function(n){var a=t.included,r=n.target,i=!!r.checked;if(Array.isArray(a)){var s=null,l=e._i(a,s);r.checked?l<0&&e.$set(t,"included",a.concat([s])):l>-1&&e.$set(t,"included",a.slice(0,l).concat(a.slice(l+1)))}else e.$set(t,"included",i)}}}),e._v(" "+e._s(t.name)+" ")])]),n("td",[e._v(e._s(t.type))]),n("td",[n("RuleTab",{attrs:{manager:t.RuleManager}})],1)])})),0),n("tfoot",[n("tr",[n("td",{attrs:{colspan:"2"}},[n("span",{staticClass:"btn btn-primary",on:{click:e.setRule}},[e._v("Auto Set Rule")])]),n("td")])])])},ra=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("caption",[n("h3",[e._v("Validation")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("thead",[n("tr",[n("th",{attrs:{width:"120px"}},[e._v("Field")]),n("th",{attrs:{width:"120px"}},[e._v("Type")]),n("th",[e._v("Rule")])])])}],ia=M.RuleList;function sa(e){ua(e),e.FieldManager.list.forEach((function(e){return ca(e)}))}function la(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=e.RuleManager.find(t);if(a)return a;var r=e.RuleManager.make(t,n);return e.RuleManager.add(r),r}function oa(e){return"char"===e.type||"string"===e.type}function ca(e){if(e.included&&!e.isIncrement)if(la(e,"required"),"boolean"!==e.type){if(e.isInteger)la(e,"integer");else if(e.isNumber)la(e,"numeric");else if(oa(e)&&e.length){var t=la(e,"max",!1);t.value=e.length}}else la(e,"boolean")}function ua(e){e.IndexManager.uniqueIndexList.forEach((function(t){if(1===t.FieldManager.list.length){var n=t.FieldManager.list[0],a=e.FieldManager.find(n.name);if(a){var r=la(a,"unique",!1);r.value=e.tableName}}}))}var da=[{name:"A-Z",text:"/^[A-Z]+$/"},{name:"a-z",text:"/^[a-z]+$/"},{name:"0-9",text:"/^\\d+$/"},{name:"A-Z a-z",text:"/^[A-Za-z]+$/"},{name:"A-Z a-z 0-9",text:"/^[A-Za-z0-9]+$/"},{name:"A-Z a-z 0-9 _",text:"/^[A-Z_a-z][A-Z_a-z0-9]+$/"}],ma=[{title:"Content",list:[ia.find((function(e){return"distinct"===e.name})),ia.find((function(e){return"ends_with"===e.name})),ia.find((function(e){return"starts_with"===e.name})),ia.find((function(e){return"in"===e.name})),ia.find((function(e){return"not_in"===e.name})),ia.find((function(e){return"not_regex"===e.name})),ia.find((function(e){return"regex"===e.name}))]},{title:"Date",list:[ia.find((function(e){return"after"===e.name})),ia.find((function(e){return"after_or_equal"===e.name})),ia.find((function(e){return"before"===e.name})),ia.find((function(e){return"before_or_equal"===e.name})),ia.find((function(e){return"date"===e.name})),ia.find((function(e){return"date_equals"===e.name})),ia.find((function(e){return"date_format"===e.name})),ia.find((function(e){return"timezone"===e.name}))]},{title:"Field",list:[ia.find((function(e){return"confirmed"===e.name})),ia.find((function(e){return"different"===e.name})),ia.find((function(e){return"gt"===e.name})),ia.find((function(e){return"gte"===e.name})),ia.find((function(e){return"lt"===e.name})),ia.find((function(e){return"lte"===e.name})),ia.find((function(e){return"in_array"===e.name})),ia.find((function(e){return"same"===e.name}))]},{title:"File",list:[ia.find((function(e){return"dimensions"===e.name})),ia.find((function(e){return"file"===e.name})),ia.find((function(e){return"image"===e.name})),ia.find((function(e){return"mimetypes"===e.name})),ia.find((function(e){return"mimes"===e.name}))]},{title:"Other",list:[ia.find((function(e){return"bail"===e.name})),ia.find((function(e){return"exists"===e.name})),ia.find((function(e){return"unique"===e.name})),ia.find((function(e){return"filled"===e.name})),ia.find((function(e){return"present"===e.name})),ia.find((function(e){return"required"===e.name})),ia.find((function(e){return"sometimes"===e.name}))]},{title:"Require",list:[ia.find((function(e){return"required_if"===e.name})),ia.find((function(e){return"required_unless"===e.name})),ia.find((function(e){return"required_with"===e.name})),ia.find((function(e){return"required_with_all"===e.name})),ia.find((function(e){return"required_without"===e.name})),ia.find((function(e){return"required_without_all"===e.name}))]},{title:"Size",list:[ia.find((function(e){return"between"===e.name})),ia.find((function(e){return"digits"===e.name})),ia.find((function(e){return"digits_between"===e.name})),ia.find((function(e){return"max"===e.name})),ia.find((function(e){return"min"===e.name})),ia.find((function(e){return"size"===e.name}))]},{title:"Type",list:[ia.find((function(e){return"array"===e.name})),ia.find((function(e){return"boolean"===e.name})),ia.find((function(e){return"integer"===e.name})),ia.find((function(e){return"nullable"===e.name})),ia.find((function(e){return"numeric"===e.name})),ia.find((function(e){return"string"===e.name}))]},{title:"WWW",list:[ia.find((function(e){return"accepted"===e.name})),ia.find((function(e){return"active_url"===e.name})),ia.find((function(e){return"email"===e.name})),ia.find((function(e){return"ip"===e.name})),ia.find((function(e){return"ipv4"===e.name})),ia.find((function(e){return"ipv6"===e.name})),ia.find((function(e){return"json"===e.name})),ia.find((function(e){return"url"===e.name})),ia.find((function(e){return"uuid"===e.name}))]}],fa=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("ul",{staticClass:"rule",on:{click:function(t){e.editing=!0}}},e._l(e.manager.list,(function(t){return n("li",{key:t.name},[n("Rule",{attrs:{rule:t,editing:e.editing},on:{remove:function(n){return e.remove(t)}}})],1)})),0),e.editing?n("div",[n("br"),n("ul",{staticClass:"nav nav-tabs"},[n("li",[n("span",{staticClass:"btn btn-primary",on:{click:function(t){e.editing=!1}}},[e._v("OK")]),e._v(" \n            ")]),e._l(e.KindList,(function(t){return n("li",{key:t.title,class:{active:t.title==e.tab},attrs:{role:"presentation"}},[n("a",{attrs:{href:"javascript:void(0)"},on:{click:function(n){e.tab=t.title}}},[e._v(e._s(t.title))])])}))],2),e._l(e.kindInTab,(function(t){return n("ul",{key:t.title,staticClass:"rule"},e._l(t.list,(function(t){return n("li",{key:t.name},[n("span",{staticClass:"btn btn-default",on:{click:function(n){return e.add(t)}}},[e._v(" + ")]),n("a",{attrs:{href:e.link(t),target:"_blank"}},[e._v(e._s(t.name))])])})),0)}))],2):n("div",{staticClass:"none-rule"},[0==e.manager.list.length?n("div",{on:{click:function(t){e.editing=!0}}},[e._v("...")]):e._e()])])},pa=[],va=(n("a481"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{class:{editing:e.editing}},[e.editing?[n("span",{staticClass:"btn btn-default",on:{click:function(t){return e.$emit("remove")}}},[e._v("- "+e._s(e.rule.name))]),e._v(" \n\n        "),!1===e.rule.isBoolean?[e.isRE?n("span",{staticClass:"input-group"},[n("span",{staticClass:"input-group-btn"},[n("span",{staticClass:"btn btn-default dropdown-toggle",attrs:{"data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e._v(" * ")]),n("ul",{staticClass:"dropdown-menu"},[e._l(e.REList,(function(t,a){return[t.name?n("li",{key:a},[n("a",{attrs:{href:"javascript:void(0)"},on:{click:function(n){e.rule.value=t.text}}},[e._v(e._s(t.name))])]):n("li",{key:a,staticClass:"divider",attrs:{role:"separator"}})]}))],2)]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.rule.value,expression:"rule.value"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.rule.value},on:{input:function(t){t.target.composing||e.$set(e.rule,"value",t.target.value)}}})]):n("input",{directives:[{name:"model",rawName:"v-model",value:e.rule.value,expression:"rule.value"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.rule.value},on:{input:function(t){t.target.composing||e.$set(e.rule,"value",t.target.value)}}})]:e._e()]:[n("span",[e._v(e._s(e.rule.name))]),!1===e.rule.isBoolean?n("span",[e._v(" "+e._s(e.rule.value))]):e._e()]],2)}),ha=[],ba={name:"Rule",props:["rule","editing"],data:function(){return{REList:da}},computed:{isRE:function(){return"regex"===this.rule.name||"not_regex"===this.rule.name}}},_a=ba,ga=Object(m["a"])(_a,va,ha,!1,null,null,null),ya=ga.exports,$a={name:"RuleTab",components:{Rule:ya},props:["manager"],data:function(){return{REList:da,KindList:ma,editing:!1,tab:"Content"}},computed:{kindInTab:function(){var e=this;return this.KindList.filter((function(t){return t.title==e.tab}))}},methods:{add:function(e){try{var t=this.manager.make(e.name,e.isBoolean);this.manager.add(t)}catch(n){y(n,400)}},remove:function(e){var t=this;$("Are you sure?").then((function(n){n.value&&t.manager.remove(e)}))},link:function(e){var t="https://laravel.com/docs/6.0/validation";if("sometimes"===e.name)return t+"#conditionally-adding-rules";var n=e.name.replace("_","-");return"".concat(t,"#rule-").concat(n)}}},Ca=$a,wa=Object(m["a"])(Ca,fa,pa,!1,null,null,null),ka=wa.exports,Fa={name:"Validation",components:{RuleTab:ka},props:["manager","entity"],data:function(){return{}},created:function(){},methods:{setRule:function(){sa(this.entity)}}},xa=Fa,ja=(n("13a77"),Object(m["a"])(xa,aa,ra,!1,null,null,null)),Na=ja.exports,Ta={name:"Request",components:{File:ht,Validation:Na},data:function(){return{bus:c}}},Ma=Ta,Sa=Object(m["a"])(Ma,ta,na,!1,null,null,null),Da=Sa.exports,Ea=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",e._l(e.fileWithoutTab,(function(t){return n("div",{key:t.name},[n("File",{attrs:{file:e.find(t.name),type:t.name}}),n("hr")],1)})),0)},Pa=[],qa={name:"FileList",components:{File:ht},data:function(){return{bus:c}},computed:{fileWithoutTab:function(){return c.project.FileTypeManager.list.filter((function(e){return 0==e.hasTab}))}},methods:{find:function(e){return c.entity.FileManager.findByType(e)}}},Aa=qa,Ra=Object(m["a"])(Aa,Ea,Pa,!1,null,null,null),Oa=Ra.exports,Ia={name:"Project",components:{Entity:ea,Diagram:Ee,FileType:He,Migration:dn,Model:An,Factory:Zn,Request:Da,FileList:Oa},data:function(){return{bus:c}},methods:{setName:function(){C("Please enter the name",c.project.name).then((function(e){if(e.value)try{c.project.name=e.value}catch(t){y(t,400)}}))},setNameSpace:function(){C("Please enter the NameSpace",c.project.NameSpace).then((function(e){if(e.value)try{c.project.NameSpace=e.value}catch(t){y(t,400)}}))}}},La=Ia,Ba=Object(m["a"])(La,ge,ye,!1,null,null,null),Ka=Ba.exports,Ua={name:"Builder",components:{Project:Ka},data:function(){return{bus:c}},methods:{connect:function(){var e=this;C("Please enter the domain","http://localhost").then((function(t){t.value&&Q(t.value).then((function(t){try{if(c.php=!0,c.project)return;if(t.data){var n=JSON.parse(t.data);c.project=D(n),c.project.EntityManager.list.length>0&&c.show(c.project.EntityManager.list[0])}else null==c.project&&$("Do you want to load tables from your database schema?").then((function(t){t.value&&e.convert()})).catch((function(e){console.log(e)}))}catch(a){y(a,400)}})).catch((function(e){y(e.message,400)}))}))},convert:function(){te().then((function(e){e.data&&(c.project=E("entity"),c.project.convertDB(e.data),c.project.EntityManager.list.length>0&&c.show(c.project.EntityManager.list[0]))})).catch((function(e){y(e.message,400)}))},save:function(){null!=c.project&&ne(c.project).then((function(e){y(e.message,200)})).catch((function(e){y(e.message,400)}))},warning:function(){return null==c.project||confirm("Warning!\nUnsaved changes will be lost!\nContinue?")},load:function(){if(this.warning()){var e=event.target.files[0];e&&P(e,(function(e){try{var t=JSON.parse(e);c.project=D(t),c.project.EntityManager.list.length>0&&c.show(c.project.EntityManager.list[0])}catch(n){y(n,400)}}))}},make:function(){this.warning()&&C("Please enter the Project name","entity").then((function(e){if(e.value)try{c.project=E(e.value);var t=S(c.project);c.show(t)}catch(n){y(n,400)}}))},download:function(){if(null!=c.project)try{pe(c.project)}catch(e){y(e,400)}}}},za=Ua,Ha=Object(m["a"])(za,j,N,!1,null,null,null),Ja=Ha.exports,Va={name:"App",components:{Bar:p,SideBar:x,Builder:Ja,CodeDialogue:mt,ListDialogue:Gt},data:function(){return{}},created:function(){},methods:{}},Za=Va,Xa=(n("034f"),Object(m["a"])(Za,r,i,!1,null,null,null)),Ga=Xa.exports;a["a"].config.productionTip=!1,new a["a"]({render:function(e){return e(Ga)}}).$mount("#app")},"629d":function(e,t,n){},"64a9":function(e,t,n){},b63c:function(e,t,n){},d1cd:function(e,t,n){},e01b:function(e,t,n){},e359:function(e,t,n){},f62b:function(e,t,n){"use strict";var a=n("629d"),r=n.n(a);r.a}});
//# sourceMappingURL=app.1f6a6a59.js.map